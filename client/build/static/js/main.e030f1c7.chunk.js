(this["webpackJsonpseastore-frontend"]=this["webpackJsonpseastore-frontend"]||[]).push([[0],{167:function(e,t,a){},222:function(e,t,a){e.exports=a(426)},228:function(e,t,a){},358:function(e,t,a){},365:function(e,t,a){},366:function(e,t,a){},369:function(e,t,a){},370:function(e,t,a){},383:function(e,t,a){},384:function(e,t,a){},385:function(e,t,a){},386:function(e,t,a){},389:function(e,t,a){},390:function(e,t,a){},421:function(e,t,a){},422:function(e,t,a){},423:function(e,t,a){},424:function(e,t,a){},425:function(e,t,a){},426:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(21),c=a.n(i),l=a(9),o=a(10),s=a(15),u=a(14),d=a(90),m=a(34),h=a(428),p=a(46),f=(a(227),a(228),a(436)),g=a(432),y=a(434),v=a(200),E=a(43),k=a.n(E),b=new(function(){function e(){Object(l.a)(this,e),this.apiURL="https://sea-store-backend-users.herokuapp.com/api/v1/auth"}return Object(o.a)(e,[{key:"handleLogin",value:function(e){var t=e.username,a=e.password;return k.a.post("".concat(this.apiURL,"/login"),{username:t,password:a})}},{key:"handleRegistration",value:function(e){var t=e.username,a=e.email,n=e.userType,r=e.name,i=e.gender,c=e.password,l=e.token;return"customer"===n?this.handleCustomerRegistration({username:t,email:a,name:r,gender:i,password:c}):"merchant"===n?this.handleMerchantRegistration({username:t,email:a,name:r,gender:i,password:c}):"admin"===n?this.handleAdminRegistration({username:t,email:a,name:r,gender:i,password:c,token:l}):void 0}},{key:"handleCustomerRegistration",value:function(e){var t=e.username,a=e.email,n=e.name,r=e.gender,i=e.password;return k.a.post("".concat(this.apiURL,"/register/customer"),{username:t,email:a,password:i,name:n,gender:r})}},{key:"handleMerchantRegistration",value:function(e){var t=e.username,a=e.email,n=e.name,r=e.gender,i=e.password;return k.a.post("".concat(this.apiURL,"/register/merchant"),{username:t,email:a,password:i,name:n,gender:r})}},{key:"handleAdminRegistration",value:function(e){var t=e.username,a=e.email,n=e.name,r=e.gender,i=e.password,c=e.token;return k.a.post("".concat(this.apiURL,"/register/admin"),{username:t,email:a,password:i,name:n,gender:r,token:c})}}]),e}()),I=new(function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"handleLoginSucceeded",value:function(e){sessionStorage.setItem("authenticatedUser",JSON.stringify(e))}},{key:"handleLoginFailed",value:function(){sessionStorage.removeItem("authenticatedUser")}},{key:"handleLogout",value:function(){sessionStorage.removeItem("authenticatedUser")}},{key:"handleIsLoggedIn",value:function(){return null!==JSON.parse(sessionStorage.getItem("authenticatedUser"))}},{key:"getUserType",value:function(){var e=JSON.parse(sessionStorage.getItem("authenticatedUser"));return e?e.type:null}},{key:"getUserId",value:function(){var e=JSON.parse(sessionStorage.getItem("authenticatedUser"));return e?e.id:null}}]),e}()),C=(a(167),{labelCol:{span:8},wrapperCol:{span:16}}),O=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={isLoading:!1},n}return Object(o.a)(a,[{key:"handleLoginRequest",value:function(e){var t=this;this.setState({isLoading:!0}),b.handleLogin({username:e.username,password:e.password}).then((function(e){t.setState({isLoading:!1});var a=e.data,n=a.type,r=a.username,i=a.id;I.handleLoginSucceeded({type:n,username:r,id:i}),t.props.history.push("/".concat(n,"/home"))})).catch((function(e){t.setState({isLoading:!1}),f.a.error({message:"Error logging in",description:"There was an error in logging in",duration:2.5}),console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(g.a,Object.assign({},C,{className:this.props.className,onFinish:function(t){return e.handleLoginRequest(t)}}),r.a.createElement("h1",null,"Login"),r.a.createElement(g.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username"}]},r.a.createElement(y.a,null)),r.a.createElement(g.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password"}]},r.a.createElement(y.a.Password,null)),this.state.isLoading?r.a.createElement(v.a,null):r.a.createElement(g.a.Item,null,r.a.createElement(p.a,{type:"primary",htmlType:"submit",className:"form__submit"},"Login")))}}]),a}(n.Component),j=Object(m.g)(O),M=a(113),L=a(136),P=M.a.Option,S={labelCol:{span:8},wrapperCol:{span:16}},N=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={isLoggingAsAdmin:!1,isLoading:!1},n}return Object(o.a)(a,[{key:"handleRegisterRequest",value:function(e){var t=this;this.setState({isLoading:!0}),b.handleRegistration(e).then((function(e){t.setState({isLoading:!1});var a=e.data,n=a.type,r=a.username,i=a.id;I.handleLoginSucceeded({type:n,username:r,id:i}),t.props.history.push("/".concat(n,"/home"))})).catch((function(e){t.setState({isLoading:!1}),f.a.error({message:"Error registering",description:"There was an error in registering",duration:2.5}),console.error(e)}))}},{key:"handleUserTypeChange",value:function(e){"admin"===e?this.setState({isLoggingAsAdmin:!0}):this.setState({isLoggingAsAdmin:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement(g.a,Object.assign({},S,{className:this.props.className,onFinish:function(t){return e.handleRegisterRequest(t)}}),r.a.createElement("h1",null,"Register"),r.a.createElement(g.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username"}]},r.a.createElement(y.a,null)),r.a.createElement(g.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your correct email",type:"email"}]},r.a.createElement(y.a,null)),r.a.createElement(g.a.Item,{label:"User Type",name:"userType",rules:[{required:!0,message:"Please choose your user type"}]},r.a.createElement(M.a,{placeholder:"Select your user type",onChange:function(t){return e.handleUserTypeChange(t)},allowClear:!0},r.a.createElement(P,{value:"admin"},"Admin"),r.a.createElement(P,{value:"merchant"},"Merchant"),r.a.createElement(P,{value:"customer"},"Customer"))),r.a.createElement(g.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your name"}]},r.a.createElement(y.a,null)),r.a.createElement(g.a.Item,{label:"Gender",name:"gender",rules:[{required:!0,message:"Please select your gender"}]},r.a.createElement(L.a.Group,{options:[{label:"Male",value:"male"},{label:"Female",value:"female"}]})),r.a.createElement(g.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password"}]},r.a.createElement(y.a.Password,null)),r.a.createElement(g.a.Item,{label:"Token",name:"token",rules:[{required:this.state.isLoggingAsAdmin,message:"Please insert your admin token"}],className:this.state.isLoggingAsAdmin?"":"hide"},r.a.createElement(y.a.Password,null)),this.state.isLoading?r.a.createElement(v.a,null):r.a.createElement(g.a.Item,null,r.a.createElement(p.a,{type:"primary",htmlType:"submit",className:"form__submit"},"Register")))}}]),a}(n.Component),_=Object(m.g)(N);a(358);function A(e){return r.a.createElement("div",{className:e.className,onClick:e.onClick})}var R=h.a.Content,w=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleOverlayClick=function(){n.setState({formHidden:!0,loginFormHidden:!0,registerFormHidden:!0})},n.handleLoginButtonClick=function(){n.setState({formHidden:!n.state.formHidden,loginFormHidden:!n.state.loginFormHidden,registerFormHidden:!0})},n.handleRegisterButtonClick=function(){n.setState({formHidden:!n.state.formHidden,loginFormHidden:!0,registerFormHidden:!1})},n.state={formHidden:!0,loginFormHidden:!0,registerFormHidden:!0},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return I.handleIsLoggedIn()?r.a.createElement(m.a,{to:"".concat(I.getUserType(),"/home")}):r.a.createElement(h.a,{className:"landing-page"},r.a.createElement(R,{className:"landing-page__introduction-content"},r.a.createElement("h1",{className:"landing-page__introduction-content--heading"},"Marketplace"),r.a.createElement("p",{className:"landing-page__introduction-content--paragraph"},"Your simplest and cheapest marketplace to ever exist"),r.a.createElement(p.a,{className:"landing-page__introduction-content--register",onClick:function(){return e.handleRegisterButtonClick()}},"Register"),r.a.createElement(p.a,{className:"landing-page__introduction-content--login",onClick:function(){return e.handleLoginButtonClick()}},"Login")),r.a.createElement(A,{className:this.state.formHidden?"overlay--hide":"overlay",onClick:function(){return e.handleOverlayClick()}}),r.a.createElement(j,{className:"form--login"+(this.state.loginFormHidden?" form--hide":""),onFinish:function(){return e.handleLoginFormSubmission()}}),r.a.createElement(_,{className:"form--register"+(this.state.registerFormHidden?" form--hide":"")}))}}]),a}(n.Component),q=a(219);var U=function(e){var t=e.component,a=Object(q.a)(e,["component"]);return r.a.createElement(m.b,Object.assign({},a,{render:function(e){return I.handleIsLoggedIn()?r.a.createElement(t,e):r.a.createElement(m.a,{to:"/"})}}))},D=(a(365),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"handleMerchantClick",value:function(e){this.props.history.push({pathname:"/customer/merchant/".concat(e.name),state:{id:e.id}})}},{key:"render",value:function(){var e=this,t=this.props.productList.map((function(t){return t.quantity>0?r.a.createElement("li",{key:t.id,className:"product-list__item"},r.a.createElement("div",null,t.name),r.a.createElement(p.a,{type:"link",onClick:function(){return e.handleMerchantClick({id:t.merchantId,name:t.merchantName})}},t.merchantName),r.a.createElement("div",null,t.price),r.a.createElement("div",null,t.quantity),r.a.createElement(p.a,{onClick:function(){return e.props.onAddToCart(t.id)}},"Add to Cart")):null}));return r.a.createElement("ul",{className:"product-list"},r.a.createElement("li",{className:"product-list__title"},r.a.createElement("div",null,"Product"),r.a.createElement("div",null,"Merchant"),r.a.createElement("div",null,"Price"),r.a.createElement("div",null,"Quantity")),t)}}]),a}(n.Component)),T=Object(m.g)(D),x=a(437),F=a(88),G=a(438),V=(a(366),h.a.Header),H=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"handleHomeMenuClick",value:function(){console.log("Home menu clicked"),this.props.history.push("/customer/home")}},{key:"handleProfileMenuClick",value:function(){console.log("Profile menu clicked"),this.props.history.push("/customer/profile")}},{key:"handleOrderMenuClick",value:function(){console.log("Order menu clicked"),this.props.history.push("/customer/order")}},{key:"handleTransactionMenuClick",value:function(){this.props.history.push("/customer/transaction")}},{key:"handleCartMenuClick",value:function(){console.log("Cart menu clicked"),this.props.history.push("/customer/cart")}},{key:"handleLogout",value:function(){x.b.info("Logged out"),I.handleLogout(),this.props.history.push("/")}},{key:"render",value:function(){var e=this;return r.a.createElement(V,null,r.a.createElement("div",{className:"logo"}),r.a.createElement(F.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["".concat(this.props.defaultSelectedKeys)]},r.a.createElement(F.a.Item,{key:"1",onClick:function(){return e.handleHomeMenuClick()}},"Home"),r.a.createElement(F.a.Item,{key:"2",onClick:function(){return e.handleProfileMenuClick()}},"Profile"),r.a.createElement(F.a.Item,{key:"3",onClick:function(){return e.handleOrderMenuClick()}},"Order"),r.a.createElement(F.a.Item,{key:"4",onClick:function(){return e.handleTransactionMenuClick()}},"Transaction"),r.a.createElement(F.a.Item,{key:"5",className:"menu__item--right-margined",onClick:function(){return e.handleCartMenuClick()}},r.a.createElement("img",{className:"menu__item--image",src:"/images/cart.png",alt:"Cart"})),r.a.createElement("div",{className:"menu__item--not-selectable"},r.a.createElement(G.a,{placement:"bottomRight",title:"Are you sure you want to logout?",onConfirm:function(){return e.handleLogout()},okText:"Yes",cancelText:"No"},r.a.createElement("img",{src:"/images/logout.png",alt:"Logout"})))))}}]),a}(n.Component),K=Object(m.g)(H),B=(a(369),new(function(){function e(){Object(l.a)(this,e),this.apiURL="https://sea-store-backend-items.herokuapp.com/api"}return Object(o.a)(e,[{key:"handleAddItem",value:function(e){return k.a.post("".concat(this.apiURL,"/item"),e)}},{key:"handleDeleteItem",value:function(e){return k.a.delete("".concat(this.apiURL,"/item/").concat(e))}},{key:"handleGetItem",value:function(e){return k.a.get("".concat(this.apiURL,"/item/").concat(e))}},{key:"handleUpdateItem",value:function(e){return k.a.patch("".concat(this.apiURL,"/item/").concat(e.id),e)}},{key:"handleGetItems",value:function(){return k.a.get("".concat(this.apiURL,"/items"))}},{key:"handleGetItemsByMerchant",value:function(e){return k.a.get("".concat(this.apiURL,"/items/merchant/").concat(e))}}]),e}())),z=new(function(){function e(){Object(l.a)(this,e),this.apiURL="https://sea-store-backend-users.herokuapp.com/api/v1/users"}return Object(o.a)(e,[{key:"handleGetUsers",value:function(){return k.a.get("".concat(this.apiURL))}},{key:"handleGetUserInfo",value:function(e){return k.a.get("".concat(this.apiURL,"/").concat(e))}},{key:"handleUpdateUserInfo",value:function(e){return k.a.put("".concat(this.apiURL,"/").concat(e.ID),e)}},{key:"handleApproveMerchant",value:function(e){return k.a.put("".concat(this.apiURL,"/").concat(e.id),e)}},{key:"handleDeleteUser",value:function(e){return k.a.delete("".concat(this.apiURL,"/").concat(e))}}]),e}()),J=h.a.Content,W=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={products:[],isLoadingProduct:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getItemsInfo()}},{key:"getItemsInfo",value:function(){var e=this,t=[];B.handleGetItems().then((function(e){if(null===e.data.data)return Promise.resolve([]);var a=e.data.data.map((function(e){return t.push({id:e.id,name:e.name,price:e.price,quantity:e.quantity}),z.handleGetUserInfo(e.merchant_id)}));return Promise.all(a)})).then((function(a){a.forEach((function(e,a){t[a].merchantName=e.data.name,t[a].merchantId=e.data.id})),e.setState({products:t,isLoadingProduct:!1})})).catch((function(e){console.log(e)}))}},{key:"handleAddToCart",value:function(e){var t=this.state.products.slice(),a=t.find((function(t){return t.id===e})),n=a.name;a.quantity-=1,this.setState(t),f.a.success({message:"Product has been added to cart",description:'Product with name "'.concat(n,'" added'),duration:1.5})}},{key:"render",value:function(){var e=this;return r.a.createElement(h.a,{className:"home-page"},r.a.createElement(K,{defaultSelectedKeys:1}),r.a.createElement(J,null,r.a.createElement("h1",null,"Products for Sale"),this.state.isLoadingProduct?r.a.createElement(v.a,{size:"large"}):r.a.createElement(T,{productList:this.state.products,onAddToCart:function(t){return e.handleAddToCart(t)}})))}}]),a}(n.Component),Q=(a(370),{labelCol:{span:8},wrapperCol:{span:16}}),Y=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={userInfo:{},isLoading:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getUserInfo()}},{key:"getUserInfo",value:function(){var e=this,t=JSON.parse(sessionStorage.getItem("authenticatedUser")).id;return z.handleGetUserInfo(t).then((function(a){e.setState({userInfo:{id:t,username:a.data.username,name:a.data.name,gender:a.data.gender.toLowerCase(),email:a.data.email,type:a.data.type,active:a.data.active}}),e.setState({isLoading:!1})})).catch((function(e){console.log(e),f.a.error({message:"There was an error retrieving your data",duration:2})}))}},{key:"handleUpdateRequest",value:function(e){var t=this,a={ID:this.state.userInfo.id,username:this.state.userInfo.username,email:e.email,password:e.password,name:e.name,gender:e.gender,type:this.state.userInfo.type,active:this.state.userInfo.active};this.setState({isLoading:!0}),z.handleUpdateUserInfo(a).then((function(e){return x.b.success("Profile updated"),t.getUserInfo()})).then((function(e){t.setState({isLoading:!1})})).catch((function(e){console.log(e),x.b.error("Profile failed to be updated")}))}},{key:"render",value:function(){var e=this;return this.state.isLoading?r.a.createElement(v.a,{size:"large"}):r.a.createElement(g.a,Object.assign({},Q,{className:this.props.className,initialValues:this.state.userInfo,onFinish:function(t){return e.handleUpdateRequest(t)}}),r.a.createElement("h1",null,"Update Profile"),r.a.createElement(g.a.Item,{label:"ID",name:"id",rules:[{required:!0,message:"Please input your ID"}]},r.a.createElement(y.a,{disabled:!0})),r.a.createElement(g.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username"}]},r.a.createElement(y.a,{disabled:!0})),r.a.createElement(g.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your name"}]},r.a.createElement(y.a,null)),r.a.createElement(g.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email",type:"email"}]},r.a.createElement(y.a,null)),r.a.createElement(g.a.Item,{label:"Gender",name:"gender",rules:[{required:!0,message:"Please select your gender"}]},r.a.createElement(L.a.Group,{options:[{label:"Male",value:"male"},{label:"Female",value:"female"}]})),r.a.createElement(g.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password"}]},r.a.createElement(y.a.Password,null)),r.a.createElement(g.a.Item,{label:"Token",name:"token",rules:[{required:this.state.isLoggingAsAdmin,message:"Please insert your admin token"}],className:this.state.isLoggingAsAdmin?"":"hide"},r.a.createElement(y.a,null)),r.a.createElement(g.a.Item,null,r.a.createElement(p.a,{type:"primary",htmlType:"submit",className:"form__submit"},"Update")))}}]),a}(n.Component),$=h.a.Content,X=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(K,{defaultSelectedKeys:2}),r.a.createElement($,null,r.a.createElement(Y,null)))}}]),a}(n.Component),Z=a(430),ee=h.a.Content,te=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,transactionData:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.handleGetWalletData()}},{key:"handleGetWalletData",value:function(){var e=this,t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});setTimeout((function(){e.setState({isLoading:!1,transactionData:[{date:"Mon 25 Sep 2020",product:"RAM",merchant:"merchantsir",quantity:1,totalFormatted:t.format(15e4.toFixed(0))},{date:"Tue 26 Sep 2020",product:"Camera",merchant:"merchantsir",quantity:1,totalFormatted:t.format(1e6.toFixed(0))}]})}),2e3)}},{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(K,{defaultSelectedKeys:4}),r.a.createElement(ee,null,r.a.createElement(Z.a,{className:"transaction-page__table",columns:[{title:"Date",dataIndex:"date",key:"date"},{title:"Product",dataIndex:"product",key:"product"},{title:"Merchant",dataIndex:"merchant",key:"merchant"},{title:"Quantity",dataIndex:"quantity",key:"quantity"},{title:"Total",dataIndex:"totalFormatted",key:"totalFormatted"}],dataSource:this.state.transactionData,loading:this.state.isLoading,rowKey:"id"})))}}]),a}(n.Component),ae=(a(383),h.a.Content),ne=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={orderList:[{id:"#121",name:"Computer",date:"August 12, 2020",price:"10000",status:"succeeded"},{id:"#122",name:"Laptop",date:"August 13, 2020",price:"20000",status:"failed"}]},n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(K,{defaultSelectedKeys:3}),r.a.createElement(ae,null,r.a.createElement("h1",null,"Order"),r.a.createElement("ul",{className:"order-list"},r.a.createElement("li",{className:"order-list__title"},r.a.createElement("div",null,"Order ID"),r.a.createElement("div",null,"Product Name"),r.a.createElement("div",null,"Date"),r.a.createElement("div",null,"Price"),r.a.createElement("div",null,"Status")),this.state.orderList.map((function(e){return r.a.createElement("li",{key:e.id,className:"order-list__item"},r.a.createElement("div",null,e.id),r.a.createElement("div",null,e.name),r.a.createElement("div",null,e.date),r.a.createElement("div",null,e.price),r.a.createElement("div",{className:"succeeded"===e.status?"order-list__item--succeeded":"order-list__item--failed"},e.status))})))))}}]),a}(n.Component),re=a(433);a(384);function ie(e){var t=e.cartList.map((function(t){return t.quantity>0?r.a.createElement("li",{key:t.id,className:"cart-list__item"},r.a.createElement("div",null,t.name),r.a.createElement("div",null,t.merchantName),r.a.createElement("div",null,t.price),r.a.createElement("div",null,t.quantity),r.a.createElement(p.a,{onClick:function(){return e.onRemoveFromCart(t.id)}},"Remove from Cart")):null}));return r.a.createElement("ul",{className:"cart-list"},r.a.createElement("li",{className:"cart-list__title"},r.a.createElement("div",null,"Product Name"),r.a.createElement("div",null,"Merchant Name"),r.a.createElement("div",null,"Price"),r.a.createElement("div",null,"Quantity")),t)}a(385);var ce=new(function(){function e(){Object(l.a)(this,e),this.apiURL="https://sea-store-backend-transactions.herokuapp.com/api"}return Object(o.a)(e,[{key:"handleGetBanks",value:function(){return k.a.get("".concat(this.apiURL,"/banks"))}}]),e}()),le={labelCol:{span:8},wrapperCol:{span:16}},oe=M.a.Option,se=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={isLoadingBank:!0,bankList:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.handleGetBanks()}},{key:"handleGetBanks",value:function(){var e=this;ce.handleGetBanks().then((function(t){e.setState({isLoadingBank:!1,bankList:t.data.data})})).catch((function(e){return console.log("Error in fetching bank",e)}))}},{key:"render",value:function(){return this.state.isLoadingBank?r.a.createElement(v.a,{size:"large"}):r.a.createElement(g.a,Object.assign({ref:this.props.reference},le),r.a.createElement(g.a.Item,{label:"Bank Name",name:"bankName",rules:[{required:!0,message:"Please input your bank name"}]},r.a.createElement(M.a,{placeholder:"Select your bank name"},this.state.bankList.map((function(e){return r.a.createElement(oe,{value:e.id,key:e.id},e.name)})))),r.a.createElement(g.a.Item,{label:"Account",name:"bankAccount",rules:[{required:!0,message:"Please input your bank account number"}]},r.a.createElement(y.a,null)))}}]),a}(n.Component),ue=h.a.Content,de=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={cart:[{id:"1",name:"Product 1",price:1e3,merchantName:"Merchant 1",quantity:2},{id:"2",name:"Product 2",price:2e3,merchantName:"Merchant 2",quantity:1}],removeItemModal:{isVisible:!1,productId:null},payModal:{isVisible:!1}},n.paymentModalRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"handleOpenRemoveModal",value:function(e){this.setState({removeItemModal:{isVisible:!0,productId:e}})}},{key:"handleOpenPayModal",value:function(){0!==this.state.cart.length?this.setState({payModal:{isVisible:!0}}):x.b.error("Your cart is empty")}},{key:"handleClosePayModal",value:function(){this.setState({payModal:{isVisible:!1}})}},{key:"handleRemoveFromCart",value:function(){var e=this.state.removeItemModal.productId,t=this.state.cart.filter((function(t){return t.id!==e}));this.setState({cart:t,removeItemModal:{isVisible:!1,productId:null}}),f.a.success({message:"Product successfully removed",duration:1.5})}},{key:"calculatePaymentAmount",value:function(){return 0===this.state.cart.length?0:this.state.cart.map((function(e){return e.price*e.quantity})).reduce((function(e,t){return e+t}))}},{key:"handleMakePayment",value:function(){this.paymentModalRef.current.validateFields().then((function(e){console.log(e)})).catch((function(e){console.log(e)}));var e=this.calculatePaymentAmount();this.setState({cart:[],payModal:{isVisible:!1}}),f.a.success({message:"Payment succeeded",duration:1.5}),console.log(e)}},{key:"render",value:function(){var e=this,t=[r.a.createElement("div",{key:"paymentAmount"},"Total payment: $".concat(this.calculatePaymentAmount())),r.a.createElement(p.a,{className:"modal-footer--right-aligned",key:"back",onClick:function(){return e.handleClosePayModal()}},"Cancel"),r.a.createElement(p.a,{key:"submit",type:"primary",onClick:function(){return e.handleMakePayment()}},"Pay")];return r.a.createElement(h.a,{className:"cart-page"},r.a.createElement(K,{defaultSelectedKeys:5}),r.a.createElement(re.a,{title:"Remove product from cart?",visible:this.state.removeItemModal.isVisible,centered:!0,onOk:function(){return e.handleRemoveFromCart()},onCancel:function(){return e.setState({removeItemModal:{isVisible:!1,productId:null}})}},r.a.createElement("p",null,"This product will be removed from cart")),r.a.createElement(re.a,{title:"Pay for products",visible:this.state.payModal.isVisible,centered:!0,onOk:function(){return e.handleMakePayment()},onCancel:function(){return e.handleClosePayModal()},footer:t},r.a.createElement(se,{reference:this.paymentModalRef})),r.a.createElement(ue,null,r.a.createElement("h1",null,"My Cart"),r.a.createElement(ie,{cartList:this.state.cart,onRemoveFromCart:function(t){return e.handleOpenRemoveModal(t)}})),r.a.createElement(p.a,{className:"cart-page__fab",onClick:function(){return e.handleOpenPayModal()}},"Make Payment"))}}]),a}(n.Component),me=a(431),he=(a(386),h.a.Content),pe=h.a.Sider,fe=[{path:"/customer/home",component:W},{path:"/customer/profile",component:X},{path:"/customer/order",component:ne},{path:"/customer/transaction",component:te},{path:"/customer/cart",component:de},{path:"/customer/merchant",component:function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={merchantId:n.props.location.state.id,merchantInfo:{},merchantProducts:[],isLoadingMerchantInfo:!0,isLoadingMerchantProducts:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.handleGetMerchantInfo(),this.handleGetMerchantProducts()}},{key:"handleGetMerchantInfo",value:function(){var e=this;z.handleGetUserInfo(this.state.merchantId).then((function(t){e.setState({merchantInfo:t.data,isLoadingMerchantProducts:!1})})).catch((function(e){return console.error(e)}))}},{key:"handleGetMerchantProducts",value:function(){var e=this;B.handleGetItemsByMerchant(this.state.merchantId).then((function(t){e.setState({merchantProducts:t.data.data,isLoadingMerchantProducts:!1})})).catch((function(e){return console.error(e)}))}},{key:"handleAddToCart",value:function(e){console.log(e)}},{key:"render",value:function(){var e=this,t=[{title:"Name",dataIndex:"name",key:"name"},{title:"Description",dataIndex:"description",key:"description"},{title:"Price",dataIndex:"price",key:"price"},{title:"Quantity",dataIndex:"quantity",key:"quantity"},{title:"Category",dataIndex:"category",key:"category"},{title:"Action",dataIndex:"action",render:function(t,a){return r.a.createElement(p.a,{type:"link",key:"add",onClick:function(){return e.handleAddToCart(a.id)}},"Add to Cart")}}];return r.a.createElement(h.a,{className:"merchant-page"},r.a.createElement(K,null),r.a.createElement(h.a,{className:"merchant-page__content"},r.a.createElement(pe,{className:"merchant-page__info"},r.a.createElement(me.a,null,r.a.createElement("h1",{className:"merchant-page__info__title"},"Merchant Info"),r.a.createElement("p",null,r.a.createElement("span",{className:"merchant-page__info__label"},"Username:"),this.state.merchantInfo.username),r.a.createElement("p",null,r.a.createElement("span",{className:"merchant-page__info__label"},"Name:"),this.state.merchantInfo.name),r.a.createElement("p",null,r.a.createElement("span",{className:"merchant-page__info__label"},"Email:"),this.state.merchantInfo.email))),r.a.createElement(he,null,r.a.createElement(Z.a,{columns:t,dataSource:this.state.merchantProducts,loading:this.state.isLoadingMerchantProducts,rowKey:"id"}))))}}]),a}(n.Component)}],ge=h.a.Header,ye=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"handleHomeMenuClick",value:function(){this.props.history.push("/merchant/home")}},{key:"handleProfileMenuClick",value:function(){this.props.history.push("/merchant/profile")}},{key:"handleWalletMenuClick",value:function(){this.props.history.push("/merchant/wallet")}},{key:"handleRequestMenuClick",value:function(){this.props.history.push("/merchant/request")}},{key:"handleLogout",value:function(){x.b.info("Logged out"),I.handleLogout(),this.props.history.push("/")}},{key:"render",value:function(){var e=this;return r.a.createElement(ge,null,r.a.createElement("div",{className:"logo"}),r.a.createElement(F.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["".concat(this.props.defaultSelectedKeys)]},r.a.createElement(F.a.Item,{key:"1",onClick:this.handleHomeMenuClick.bind(this)},"Home"),r.a.createElement(F.a.Item,{key:"2",onClick:this.handleProfileMenuClick.bind(this)},"Profile"),r.a.createElement(F.a.Item,{key:"3",onClick:this.handleWalletMenuClick.bind(this)},"Wallet"),r.a.createElement(F.a.Item,{key:"4",onClick:this.handleRequestMenuClick.bind(this)},"Request"),r.a.createElement("div",{className:"menu__item--right-margined menu__item--not-selectable"},r.a.createElement(G.a,{placement:"bottomRight",title:"Are you sure you want to logout?",onConfirm:function(){return e.handleLogout()},okText:"Yes",cancelText:"No"},r.a.createElement("img",{src:"/images/logout.png",alt:"Logout"})))))}}]),a}(n.Component),ve=Object(m.g)(ye),Ee=(a(389),a(435)),ke=(a(390),{labelCol:{span:8},wrapperCol:{span:16}}),be=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(g.a,Object.assign({},ke,{ref:this.props.reference}),r.a.createElement(g.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your product name"}]},r.a.createElement(y.a,null)),r.a.createElement(g.a.Item,{label:"Price",name:"price",rules:[{required:!0,message:"Please input your product price"}]},r.a.createElement(Ee.a,{min:0,formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")}})),r.a.createElement(g.a.Item,{label:"Quantity",name:"quantity",rules:[{required:!0,message:"Please input your product quantity"}]},r.a.createElement(Ee.a,{min:0})),r.a.createElement(g.a.Item,{label:"Description",name:"description",rules:[{required:!0,message:"Please input your product description"}]},r.a.createElement(y.a,null)),r.a.createElement(g.a.Item,{label:"Category",name:"category",rules:[{required:!0,message:"Please input your product category"}]},r.a.createElement(y.a,null)))}}]),a}(n.Component),Ie=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={addModal:{isVisible:!1,isLoading:!1}},n.addProductRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"handleOpenAddModal",value:function(){this.setState({addModal:{isVisible:!0}})}},{key:"handleCloseAddModal",value:function(){this.setState({addModal:{isVisible:!1}}),this.addProductRef.current.resetFields()}},{key:"handleAddProduct",value:function(){var e=this;this.addProductRef.current.validateFields().then((function(t){e.handleCloseAddModal();var a=Object.assign({},t);a.merchant_id=I.getUserId(),B.handleAddItem(a).then((function(t){f.a.success({message:"Product added",duration:1.5}),e.props.onAddProduct()}))})).catch((function(e){console.log(e),f.a.error({message:"Product add failed",duration:1.5})}))}},{key:"render",value:function(){var e=[r.a.createElement(p.a,{className:"modal-footer--right-aligned",key:"back",onClick:this.handleCloseAddModal.bind(this)},"Cancel"),r.a.createElement(p.a,{key:"submit",type:"primary",onClick:this.handleAddProduct.bind(this)},"Add")];return r.a.createElement("div",{className:"add-product"},r.a.createElement(re.a,{title:"Add a Product",visible:this.state.addModal.isVisible,centered:!0,onOk:this.handleAddProduct.bind(this),onCancel:this.handleCloseAddModal.bind(this),footer:e},r.a.createElement(be,{reference:this.addProductRef})),r.a.createElement(p.a,{className:"add-product__fab",onClick:this.handleOpenAddModal.bind(this)},"Add"))}}]),a}(n.Component),Ce=a(429),Oe={labelCol:{span:8},wrapperCol:{span:16}},je=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return this.props.loading?r.a.createElement(v.a,{size:"large"}):r.a.createElement(g.a,Object.assign({},Oe,{ref:this.props.reference,initialValues:this.props.info}),r.a.createElement(g.a.Item,{label:"ID",name:"id",rules:[{required:!0,message:"Please input your product id"}]},r.a.createElement(y.a,{disabled:!0})),r.a.createElement(g.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your product name"}]},r.a.createElement(y.a,null)),r.a.createElement(g.a.Item,{label:"Price",name:"price",rules:[{required:!0,message:"Please input your product price"}]},r.a.createElement(Ee.a,{min:0,formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")}})),r.a.createElement(g.a.Item,{label:"Quantity",name:"quantity",rules:[{required:!0,message:"Please input your product quantity"}]},r.a.createElement(Ee.a,{min:1})),r.a.createElement(g.a.Item,{label:"Description",name:"description",rules:[{required:!0,message:"Please input your product description"}]},r.a.createElement(y.a,null)),r.a.createElement(g.a.Item,{label:"Category",name:"category",rules:[{required:!0,message:"Please input your product category"}]},r.a.createElement(y.a,null)))}}]),a}(n.Component),Me=a(122),Le=a.n(Me),Pe=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={editModal:{isVisible:!1,isLoading:!1,currentProductInfo:{}}},n.editProductFormRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"handleOpenEditModal",value:function(e){var t=this;this.setState({editModal:{isVisible:!0,isLoading:!0}}),B.handleGetItem(e).then((function(e){if(null===e.data.data)return Promise.reject("Product not found");t.setState({editModal:{isVisible:!0,isLoading:!1,currentProductInfo:e.data.data}})})).catch((function(e){console.error(e),t.setState({editModal:{isVisible:!1,isLoading:!1,currentProductInfo:{}}}),f.a.error({message:"Product not found",duration:1.5})})).finally((function(){t.setState({editModal:{isVisible:!0,isLoading:!1,currentProductInfo:t.state.editModal.current}})}))}},{key:"handleCloseEditModal",value:function(){this.setState({editModal:{isVisible:!1,isLoading:!1,currentProductInfo:{}}})}},{key:"handleEditProduct",value:function(){var e=this;this.handleCloseEditModal(),this.editProductFormRef.current.validateFields().then((function(t){e.props.onEditProduct(t)})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e=this,t=[{title:"Name",dataIndex:"name",key:"name"},{title:"Description",dataIndex:"description",key:"description"},{title:"Price",dataIndex:"price",key:"price"},{title:"Quantity",dataIndex:"quantity",key:"quantity"},{title:"Category",dataIndex:"category",key:"category"},{title:"Action",dataIndex:"action",render:function(t,a){return r.a.createElement(Ce.a,{size:"middle"},r.a.createElement(p.a,{type:"link",key:"edit",onClick:e.handleOpenEditModal.bind(e,a.id)},"Edit"),r.a.createElement(G.a,{placement:"bottom",title:"Are you sure you want to delete this product?",onConfirm:function(){return e.props.onDeleteProduct(a.id)},okText:"Yes",cancelText:"No",key:"delete"},r.a.createElement(p.a,{type:"link"},"Delete")))}}],a=[r.a.createElement(p.a,{className:"modal-footer--right-aligned",key:"back",onClick:this.handleCloseEditModal.bind(this)},"Cancel"),r.a.createElement(p.a,{key:"submit",type:"primary",onClick:this.handleEditProduct.bind(this)},"Edit")];return r.a.createElement("div",null,r.a.createElement(Z.a,{columns:t,dataSource:this.props.list,loading:this.props.loading,rowKey:"id"}),r.a.createElement(Le.a,{title:"Edit a product",visible:this.state.editModal.isVisible,centered:!0,onOk:this.handleEditProduct.bind(this),onCancel:this.handleCloseEditModal.bind(this),footer:a},r.a.createElement(je,{reference:this.editProductFormRef,loading:this.state.editModal.isLoading,info:this.state.editModal.currentProductInfo})))}}]),a}(n.Component),Se=h.a.Content,Ne=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={isLoadingProduct:!0,productList:[],merchantId:I.getUserId()},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.handleGetItems()}},{key:"handleGetItems",value:function(){var e=this;this.setState({isLoadingProduct:!0}),B.handleGetItemsByMerchant(this.state.merchantId).then((function(t){e.setState({isLoadingProduct:!1}),e.setState({productList:t.data.data?t.data.data:[]})})).catch((function(e){console.error(e)}))}},{key:"handleEditItem",value:function(e){this.setState({isLoadingProduct:!0}),B.handleUpdateItem(e).then((function(e){f.a.success({message:"Product has been updated",duration:1.5})})).catch((function(e){f.a.error({message:"Product update failed",duration:1.5})})).finally(this.handleGetItems.bind(this))}},{key:"handleDeleteItem",value:function(e){this.setState({isLoadingProduct:!0}),B.handleDeleteItem(e).then((function(e){f.a.success({message:"Product has been deleted",duration:1.5})})).catch((function(e){f.a.error({message:"Product deletion failed",duration:1.5})})).finally(this.handleGetItems.bind(this))}},{key:"render",value:function(){return r.a.createElement(h.a,{className:"home-page"},r.a.createElement(ve,{defaultSelectedKeys:1}),r.a.createElement(Se,null,r.a.createElement(Ie,{onAddProduct:this.handleGetItems.bind(this)}),r.a.createElement(Pe,{list:this.state.productList,loading:this.state.isLoadingProduct,onDeleteProduct:this.handleDeleteItem.bind(this),onEditProduct:this.handleEditItem.bind(this)})))}}]),a}(n.Component),_e=h.a.Content,Ae=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(ve,{defaultSelectedKeys:2}),r.a.createElement(_e,null,r.a.createElement(Y,null)))}}]),a}(n.Component),Re=(a(421),h.a.Content),we=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,walletData:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.handleGetWalletData()}},{key:"handleGetWalletData",value:function(){var e=this,t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});setTimeout((function(){e.setState({isLoading:!1,walletData:[{date:"Mon 25 Sep 2020",customer:"Michelle",amountFormatted:t.format(15e4.toFixed(0))},{date:"Tue 26 Sep 2020",customer:"Vincent",amountFormatted:t.format(1e6.toFixed(0))}]})}),2e3)}},{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(ve,{defaultSelectedKeys:3}),r.a.createElement(Re,null,r.a.createElement(Z.a,{className:"wallet-page__table",columns:[{title:"Date",dataIndex:"date",key:"date"},{title:"Customer",dataIndex:"customer",key:"customer"},{title:"Amount",dataIndex:"amountFormatted",key:"amountFormatted"}],dataSource:this.state.walletData,loading:this.state.isLoading,rowKey:"id"})))}}]),a}(n.Component),qe=h.a.Content,Ue=[{path:"/merchant/home",component:Ne},{path:"/merchant/profile",component:Ae},{path:"/merchant/wallet",component:we},{path:"/merchant/request",component:function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,requestData:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.handleGetRequestData()}},{key:"handleGetRequestData",value:function(){var e=this;setTimeout((function(){e.setState({isLoading:!1,requestData:[{date:"Mon 25 Sep 2020",customer:"Michelle",product:"Laptop",quantity:1},{date:"Tue 26 Sep 2020",customer:"Vincent",product:"Camera",quantity:2}]})}),2e3)}},{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(ve,{defaultSelectedKeys:4}),r.a.createElement(qe,null,r.a.createElement(Z.a,{columns:[{title:"Order Date",dataIndex:"date",key:"date"},{title:"Customer",dataIndex:"customer",key:"customer"},{title:"Product",dataIndex:"product",key:"product"},{title:"Quantity",dataIndex:"quantity",key:"quantity"}],dataSource:this.state.requestData,loading:this.state.isLoading,rowKey:"id"})))}}]),a}(n.Component)}],De=(a(422),h.a.Header),Te=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"handleHomeMenuClick",value:function(){console.log("Home menu clicked"),this.props.history.push("/admin/merchant")}},{key:"handleLogout",value:function(){x.b.info("Logged out"),I.handleLogout(),this.props.history.push("/")}},{key:"render",value:function(){var e=this;return r.a.createElement(De,null,r.a.createElement("div",{className:"logo"}),r.a.createElement(F.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["".concat(this.props.defaultSelectedKeys)]},r.a.createElement(F.a.Item,{key:"1",onClick:function(){return e.handleHomeMenuClick()}},"Home"),r.a.createElement("div",{className:"menu__item--right-margined menu__item--not-selectable"},r.a.createElement(G.a,{placement:"bottomRight",title:"Are you sure you want to logout?",onConfirm:function(){return e.handleLogout()},okText:"Yes",cancelText:"No"},r.a.createElement("img",{src:"/images/logout.png",alt:"Logout"})))))}}]),a}(n.Component),xe=Object(m.g)(Te),Fe=a(439),Ge=a(440),Ve=(a(423),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={isLoadingMerchantApproval:!0,inactiveMerchantsList:[],acceptModal:{isVisible:!1,merchantInfo:{}},rejectModal:{isVisible:!1,merchantInfo:{}}},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getInactiveMerchantsInfo()}},{key:"getInactiveMerchantsInfo",value:function(){var e=this;z.handleGetUsers().then((function(t){var a=t.data.filter((function(e){return"merchant"===e.type&&!1===e.active}));e.setState({isLoadingMerchantApproval:!1,inactiveMerchantsList:a})})).catch((function(e){console.log(e)}))}},{key:"handleMerchantApproval",value:function(e){var t=this,a=Object.assign({},e);a.active=!0,this.setState({isLoadingMerchantApproval:!0,acceptModal:{isVisible:!1,merchantInfo:{}}}),z.handleApproveMerchant(a).then((function(e){t.getInactiveMerchantsInfo()})).catch((function(e){console.err(e)}))}},{key:"handleMerchantRejection",value:function(e){var t=this;this.setState({isLoadingMerchantApproval:!0,rejectModal:{isVisible:!1,merchantInfo:{}}}),z.handleDeleteUser(e.id).then((function(e){t.getInactiveMerchantsInfo()})).catch((function(e){console.err(e)}))}},{key:"handleOpenAcceptModal",value:function(e){this.setState({acceptModal:{isVisible:!0,merchantInfo:e}}),console.log(e)}},{key:"handleOpenRejectModal",value:function(e){this.setState({rejectModal:{isVisible:!0,merchantInfo:e}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.props.className},r.a.createElement(re.a,{title:"Accept merchant's registration?",visible:this.state.acceptModal.isVisible,centered:!0,onOk:function(){return e.handleMerchantApproval(e.state.acceptModal.merchantInfo)},onCancel:function(){return e.setState({acceptModal:{isVisible:!1,merchantInfo:{}}})}},r.a.createElement("p",null,"After accepting, merchant can login and can sell products")),r.a.createElement(re.a,{title:"Reject merchant's registration?",visible:this.state.rejectModal.isVisible,centered:!0,onOk:function(){return e.handleMerchantRejection(e.state.rejectModal.merchantInfo)},onCancel:function(){return e.setState({rejectModal:{isVisible:!1,merchantInfo:{}}})}},r.a.createElement("p",null,"After rejecting, merchant's account will be deleted")),r.a.createElement("h1",null,"Merchants Awaiting Approval"),this.state.isLoadingMerchantApproval?r.a.createElement(me.a,{loading:!0}):r.a.createElement("ul",{className:"list"},0===this.state.inactiveMerchantsList.length?r.a.createElement("h2",{className:"list__text--empty"},"No one is waiting for approval"):this.state.inactiveMerchantsList.map((function(t){return r.a.createElement(me.a,{key:t.id,className:"list__card",actions:[r.a.createElement(Fe.a,{key:"accept",onClick:function(){return e.handleOpenAcceptModal(t)}}),r.a.createElement(Ge.a,{key:"reject",onClick:function(){return e.handleOpenRejectModal(t)}})]},r.a.createElement("p",{className:"list__card__desc--right-aligned"},new Date(t.created_at.slice(0,-6)).toDateString()),r.a.createElement("p",null,r.a.createElement("span",{className:"list__card__label"},"Username: "),"".concat(t.username)),r.a.createElement("p",null,r.a.createElement("span",{className:"list__card__label"},"Name: "),"".concat(t.name)),r.a.createElement("p",null,r.a.createElement("span",{className:"list__card__label"},"Email: "),"".concat(t.email)),r.a.createElement("p",null,r.a.createElement("span",{className:"list__card__label"},"Gender: "),"".concat(t.gender)))}))))}}]),a}(n.Component)),He=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={isLoadingTransaction:!0,transactionData:[{id:"#123",date:"Jan 31, 2020",product:"RAM",price:15e4,count:2,total:3e5},{id:"#11",date:"Jan 28, 2020",product:"Laptop",price:1e6,count:1,total:1e6}]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getTransactionData()}},{key:"getTransactionData",value:function(){var e=this;this.setState({isLoadingTransaction:!0}),setTimeout((function(){e.setState({isLoadingTransaction:!1})}),1500)}},{key:"handleAcceptTransaction",value:function(e){var t=this.state.transactionData.filter((function(t){return t.id!==e}));this.setState({transactionData:t}),this.getTransactionData()}},{key:"handleRejectTransaction",value:function(e){var t=this.state.transactionData.filter((function(t){return t.id!==e}));this.setState({transactionData:t}),this.getTransactionData()}},{key:"render",value:function(){var e=this,t=[{title:"ID",dataIndex:"id",key:"id"},{title:"Date",dataIndex:"date",key:"date"},{title:"Product",dataIndex:"product",key:"product"},{title:"Price",dataIndex:"price",key:"price"},{title:"Count",dataIndex:"count",key:"count"},{title:"Total",dataIndex:"total",key:"total"},{title:"Action",dataIndex:"action",render:function(t,a){return r.a.createElement(Ce.a,{size:"middle"},r.a.createElement(G.a,{placement:"bottom",title:"Are you sure you want to accept this transaction?",onConfirm:function(){return e.handleAcceptTransaction(a.id)},okText:"Yes",cancelText:"No"},r.a.createElement(p.a,{type:"link"},"Accept")),r.a.createElement(G.a,{placement:"bottom",title:"Are you sure you want to reject this transaction?",onConfirm:function(){return e.handleRejectTransaction(a.id)},okText:"Yes",cancelText:"No"},r.a.createElement(p.a,{type:"link"},"Reject")))}}];return r.a.createElement("div",null,r.a.createElement("h1",null,"Transactions Awaiting Approval"),r.a.createElement(Z.a,{columns:t,dataSource:this.state.transactionData,loading:this.state.isLoadingTransaction}))}}]),a}(n.Component),Ke=(a(424),h.a.Content),Be=[{path:"/admin/home",component:function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(h.a,{className:"home-page"},r.a.createElement(xe,{defaultSelectedKeys:1}),r.a.createElement(Ke,null,r.a.createElement(Ve,{className:"home-page__merchant-approval-list"}),r.a.createElement(He,null)))}}]),a}(n.Component)}];function ze(e){return r.a.createElement(m.a,{to:"/"})}var Je=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={router:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=I.getUserType(),t=null;"customer"===e?t=fe:"merchant"===e?t=Ue:"admin"===e&&(t=Be),this.setState({router:t})}},{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:w}),fe.map((function(e){return r.a.createElement(U,Object.assign({},e,{key:e.path}))})),Ue.map((function(e){return r.a.createElement(U,Object.assign({},e,{key:e.path}))})),Be.map((function(e){return r.a.createElement(U,Object.assign({},e,{key:e.path}))})),r.a.createElement(m.b,{component:ze})))}}]),a}(n.Component);a(425);var We=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Je,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(We,{className:"root"})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[222,1,2]]]);
//# sourceMappingURL=main.e030f1c7.chunk.js.map